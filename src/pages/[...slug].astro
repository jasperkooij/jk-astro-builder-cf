---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import ContactForm from '../components/ContactForm.astro';
import BuilderContent from '../components/BuilderContent.svelte';

// Disable prerendering for this dynamic route
export const prerender = false;

const apiKey = import.meta.env.PUBLIC_BUILDER_API_KEY;
const urlPath = Astro.url.pathname || '/';

const title = 'Jasper Kooij - Full Stack Developer';
const description = 'Director of Web Development';
---

<BaseLayout title={title} description={description}>
	<Navbar />
	<div class="flex min-h-screen items-center justify-center px-4 py-10">
		<div class="bg-base-100 text-base-content w-full max-w-6xl rounded-xl shadow-lg sm:p-10 md:p-6">
			<main>
				<BuilderContent client:load apiKey={apiKey} model="page" urlPath={urlPath} />

				<!-- Contact Form Section -->
				<section class="py-12">
					<div class="container mx-auto px-4" id="contact">
						<ContactForm />
					</div>
				</section>
			</main>
		</div>
	</div>
	<Footer />
</BaseLayout>
